{"ast":null,"code":"export const sendMsgToAI = async msg => {\n  const API_URL = \"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent\";\n  const requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // Use your Gemini API key from Google AI Studio or Google Cloud\n      Authorization: `Bearer ${process.env.REACT_APP_GEMINI_KEY}`\n    },\n    body: JSON.stringify({\n      contents: [{\n        role: \"user\",\n        parts: [{\n          text: msg\n        }]\n      }]\n    })\n  };\n  try {\n    var _data$candidates, _data$candidates$, _data$candidates$$con, _data$candidates$$con2, _data$candidates$$con3;\n    const response = await fetch(API_URL, requestOptions);\n    const data = await response.json();\n\n    // Gemini responses are nested under candidates\n    return (data === null || data === void 0 ? void 0 : (_data$candidates = data.candidates) === null || _data$candidates === void 0 ? void 0 : (_data$candidates$ = _data$candidates[0]) === null || _data$candidates$ === void 0 ? void 0 : (_data$candidates$$con = _data$candidates$.content) === null || _data$candidates$$con === void 0 ? void 0 : (_data$candidates$$con2 = _data$candidates$$con.parts) === null || _data$candidates$$con2 === void 0 ? void 0 : (_data$candidates$$con3 = _data$candidates$$con2[0]) === null || _data$candidates$$con3 === void 0 ? void 0 : _data$candidates$$con3.text) || \"No response from Gemini.\";\n  } catch (error) {\n    console.error(\"Gemini API error:\", error);\n    return \"Error connecting to Gemini API.\";\n  }\n};","map":{"version":3,"names":["sendMsgToAI","msg","API_URL","requestOptions","method","headers","Authorization","process","env","REACT_APP_GEMINI_KEY","body","JSON","stringify","contents","role","parts","text","_data$candidates","_data$candidates$","_data$candidates$$con","_data$candidates$$con2","_data$candidates$$con3","response","fetch","data","json","candidates","content","error","console"],"sources":["C:/Users/Akshay/Downloads/test/agroAssist/src/utils/Gemini.js"],"sourcesContent":["export const sendMsgToAI = async (msg) => {\r\n  const API_URL = \"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent\";\r\n\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // Use your Gemini API key from Google AI Studio or Google Cloud\r\n      Authorization: `Bearer ${process.env.REACT_APP_GEMINI_KEY}`,\r\n    },\r\n    body: JSON.stringify({\r\n      contents: [\r\n        {\r\n          role: \"user\",\r\n          parts: [{ text: msg }],\r\n        },\r\n      ],\r\n    }),\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(API_URL, requestOptions);\r\n    const data = await response.json();\r\n\r\n    // Gemini responses are nested under candidates\r\n    return data?.candidates?.[0]?.content?.parts?.[0]?.text || \"No response from Gemini.\";\r\n  } catch (error) {\r\n    console.error(\"Gemini API error:\", error);\r\n    return \"Error connecting to Gemini API.\";\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAO,MAAMA,WAAW,GAAG,MAAOC,GAAG,IAAK;EACxC,MAAMC,OAAO,GAAG,0FAA0F;EAE1G,MAAMC,cAAc,GAAG;IACrBC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC;MACAC,aAAa,EAAG,UAASC,OAAO,CAACC,GAAG,CAACC,oBAAqB;IAC5D,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACnBC,QAAQ,EAAE,CACR;QACEC,IAAI,EAAE,MAAM;QACZC,KAAK,EAAE,CAAC;UAAEC,IAAI,EAAEf;QAAI,CAAC;MACvB,CAAC;IAEL,CAAC;EACH,CAAC;EAED,IAAI;IAAA,IAAAgB,gBAAA,EAAAC,iBAAA,EAAAC,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACrB,OAAO,EAAEC,cAAc,CAAC;IACrD,MAAMqB,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;;IAElC;IACA,OAAO,CAAAD,IAAI,aAAJA,IAAI,wBAAAP,gBAAA,GAAJO,IAAI,CAAEE,UAAU,cAAAT,gBAAA,wBAAAC,iBAAA,GAAhBD,gBAAA,CAAmB,CAAC,CAAC,cAAAC,iBAAA,wBAAAC,qBAAA,GAArBD,iBAAA,CAAuBS,OAAO,cAAAR,qBAAA,wBAAAC,sBAAA,GAA9BD,qBAAA,CAAgCJ,KAAK,cAAAK,sBAAA,wBAAAC,sBAAA,GAArCD,sBAAA,CAAwC,CAAC,CAAC,cAAAC,sBAAA,uBAA1CA,sBAAA,CAA4CL,IAAI,KAAI,0BAA0B;EACvF,CAAC,CAAC,OAAOY,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;IACzC,OAAO,iCAAiC;EAC1C;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}